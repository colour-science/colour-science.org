<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>colour.colorimetry.spectrum &mdash; Colour 0.3.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootswatch-3.1.0/colour/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Colour 0.3.1 documentation" href="../../../index.html" />
    <link rel="up" title="colour.colorimetry" href="../colorimetry.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html"><img src="../../../_static/Colour_Logo_Icon_001.png">
          Colour&nbsp;0.3</a>
        <!--<span class="navbar-text navbar-version pull-left"><b>0.3</b></span>-->
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://colour-science.org">colour-science.org</a></li>
            
              <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-life-ring">&nbsp;Documentation</i><b class="caret"></b></a>
                  <ul class="dropdown-menu">
                      <li>
                          <a href="api.html" class="fa fa-life-ring">&nbsp;API Reference</a>
                      </li>
                      <li>
                          <a href="http://nbviewer.ipython.org/github/colour-science/colour-ipython/blob/master/notebooks/colour.ipynb', True)" class="fa fa-book">&nbsp;IPython Notebooks</a>
                      </li>
                      <li>
                          <a href="https://colour-science.org/features.php" class="fa fa-lightbulb-o">&nbsp;Features</a>
                      </li>
                      <li>
                          <a href="https://colour-science.org/contributing.php"><span class="fa fa-gears">&nbsp;Contributing</span></a>
                      </li>
                  </ul>
              </li>
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <h1>Source code for colour.colorimetry.spectrum</h1><div class="highlight"><pre>
<span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Spectrum</span>
<span class="sd">========</span>

<span class="sd">Defines the classes handling spectral data computation:</span>

<span class="sd">-   :class:`SpectralShape`</span>
<span class="sd">-   :class:`SpectralPowerDistribution`</span>
<span class="sd">-   :class:`TriSpectralPowerDistribution`</span>

<span class="sd">See Also</span>
<span class="sd">--------</span>
<span class="sd">`Spectrum IPython Notebook</span>
<span class="sd">&lt;http://nbviewer.ipython.org/github/colour-science/colour-ipython/blob/master/notebooks/colorimetry/spectrum.ipynb&gt;`_  # noqa</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">colour.algebra</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">is_iterable</span><span class="p">,</span>
    <span class="n">is_numeric</span><span class="p">,</span>
    <span class="n">is_uniform</span><span class="p">,</span>
    <span class="n">steps</span><span class="p">,</span>
    <span class="n">to_ndarray</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">colour.algebra</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Extrapolator1d</span><span class="p">,</span>
    <span class="n">LinearInterpolator1d</span><span class="p">,</span>
    <span class="n">SplineInterpolator</span><span class="p">,</span>
    <span class="n">SpragueInterpolator</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">colour.utilities</span> <span class="kn">import</span> <span class="n">is_string</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s">&#39;Colour Developers&#39;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s">&#39;Copyright (C) 2013 - 2014 - Colour Developers&#39;</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s">&#39;New BSD License - http://opensource.org/licenses/BSD-3-Clause&#39;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s">&#39;Colour Developers&#39;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s">&#39;colour-science@googlegroups.com&#39;</span>
<span class="n">__status__</span> <span class="o">=</span> <span class="s">&#39;Production&#39;</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;SpectralShape&#39;</span><span class="p">,</span>
           <span class="s">&#39;SpectralPowerDistribution&#39;</span><span class="p">,</span>
           <span class="s">&#39;TriSpectralPowerDistribution&#39;</span><span class="p">,</span>
           <span class="s">&#39;DEFAULT_SPECTRAL_SHAPE&#39;</span><span class="p">,</span>
           <span class="s">&#39;constant_spd&#39;</span><span class="p">,</span>
           <span class="s">&#39;zeros_spd&#39;</span><span class="p">,</span>
           <span class="s">&#39;ones_spd&#39;</span><span class="p">]</span>


<div class="viewcode-block" id="SpectralShape"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape">[docs]</a><span class="k">class</span> <span class="nc">SpectralShape</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines the base object for spectral power distribution shape.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    start : numeric, optional</span>
<span class="sd">        Wavelengths :math:`\lambda_{i}`: range start in nm.</span>
<span class="sd">    end : numeric, optional</span>
<span class="sd">        Wavelengths :math:`\lambda_{i}`: range end in nm.</span>
<span class="sd">    steps : numeric, optional</span>
<span class="sd">        Wavelengths :math:`\lambda_{i}`: range steps.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    start</span>
<span class="sd">    end</span>
<span class="sd">    steps</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    __repr__</span>
<span class="sd">    __contains__</span>
<span class="sd">    __len__</span>
<span class="sd">    __eq__</span>
<span class="sd">    __ne__</span>
<span class="sd">    range</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; SpectralShape(360, 830, 1)</span>
<span class="sd">    SpectralShape(360, 830, 1)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="c"># Attribute storing the spectral shape range for caching purpose.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__range</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__start</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__end</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">end</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">steps</span> <span class="o">=</span> <span class="n">steps</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__start** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric</span>
<span class="sd">            self.__start.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__start</span>

    <span class="nd">@start.setter</span>
<div class="viewcode-block" id="SpectralShape.start"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.start">[docs]</a>    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__start** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or unicode</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">is_numeric</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="p">(</span>
                <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &quot;numeric&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s">&#39;start&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__end</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__end</span><span class="p">,</span> <span class="p">(</span>
                    <span class="s">&#39;&quot;{0}&quot; attribute value must be strictly less than &#39;</span>
                    <span class="s">&#39;&quot;{1}&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;start&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__end</span><span class="p">))</span>

        <span class="c"># Invalidating the *range* cache.</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__start</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__range</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__start</span> <span class="o">=</span> <span class="n">value</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__end** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric</span>
<span class="sd">            self.__end.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__end</span>

    <span class="nd">@end.setter</span>
<div class="viewcode-block" id="SpectralShape.end"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.end">[docs]</a>    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__end** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or unicode</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">is_numeric</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="p">(</span>
                <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &quot;numeric&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s">&#39;end&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__start</span><span class="p">,</span> <span class="p">(</span>
                    <span class="s">&#39;&quot;{0}&quot; attribute value must be strictly greater than &#39;</span>
                    <span class="s">&#39;&quot;{1}&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;end&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__start</span><span class="p">))</span>

        <span class="c"># Invalidating the *range* cache.</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__end</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__range</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__end</span> <span class="o">=</span> <span class="n">value</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__steps** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric</span>
<span class="sd">            self.__steps.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span>

    <span class="nd">@steps.setter</span>
<div class="viewcode-block" id="SpectralShape.steps"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.steps">[docs]</a>    <span class="k">def</span> <span class="nf">steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__steps** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or unicode</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">is_numeric</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="p">(</span>
                <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &quot;numeric&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s">&#39;steps&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

        <span class="c"># Invalidating the *range* cache.</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__range</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span> <span class="o">=</span> <span class="n">value</span>
</div>
<div class="viewcode-block" id="SpectralShape.__str__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.__str__">[docs]</a>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a nice formatted string representation.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        unicode</span>
<span class="sd">            Nice formatted string representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="s">&#39;({0}, {1}, {2})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__start</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">__end</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SpectralShape.__repr__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.__repr__">[docs]</a>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a formatted string representation.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        unicode</span>
<span class="sd">            Formatted string representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="s">&#39;SpectralShape({0}, {1}, {2})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__start</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">__end</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SpectralShape.__iter__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.__iter__">[docs]</a>    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a generator for the spectral power distribution data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        generator</span>
<span class="sd">            Spectral power distribution data generator.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__iter__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; shape = SpectralShape(0, 10, 1)</span>
<span class="sd">        &gt;&gt;&gt; for wavelength in shape: print(wavelength)</span>
<span class="sd">        0</span>
<span class="sd">        1</span>
<span class="sd">        2</span>
<span class="sd">        3</span>
<span class="sd">        4</span>
<span class="sd">        5</span>
<span class="sd">        6</span>
<span class="sd">        7</span>
<span class="sd">        8</span>
<span class="sd">        9</span>
<span class="sd">        10</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SpectralShape.__contains__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.__contains__">[docs]</a>    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if the spectral shape contains the given wavelength</span>
<span class="sd">        :math:`\lambda`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength : numeric</span>
<span class="sd">            Wavelength :math:`\lambda`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Is wavelength :math:`\lambda` in the spectral shape.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__contains__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; 0.5 in SpectralShape(0, 10, 0.1)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; 0.51 in SpectralShape(0, 10, 0.1)</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="SpectralShape.__len__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.__len__">[docs]</a>    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral shape wavelengths :math:`\lambda_n`</span>
<span class="sd">        count.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            Spectral shape wavelengths :math:`\lambda_n` count.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__len__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; len(SpectralShape(0, 10, 0.1))</span>
<span class="sd">        101</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SpectralShape.__eq__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.__eq__">[docs]</a>    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shape</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral shape equality with given other spectral shape.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape</span>
<span class="sd">            Spectral shape to compare for equality.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Spectral shape equality.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__eq__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; SpectralShape(0, 10, 0.1) == SpectralShape(0, 10, 0.1)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; SpectralShape(0, 10, 0.1) == SpectralShape(0, 10, 1)</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">)</span> <span class="ow">and</span> <span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">(),</span> <span class="n">shape</span><span class="o">.</span><span class="n">range</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SpectralShape.__ne__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.__ne__">[docs]</a>    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shape</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral shape inequality with given other spectral shape.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape</span>
<span class="sd">            Spectral shape to compare for inequality.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Spectral shape inequality.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__ne__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; SpectralShape(0, 10, 0.1) != SpectralShape(0, 10, 0.1)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; SpectralShape(0, 10, 0.1) != SpectralShape(0, 10, 1)</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span> <span class="o">==</span> <span class="n">shape</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SpectralShape.range"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralShape.range">[docs]</a>    <span class="k">def</span> <span class="nf">range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an iterable range for the spectral power distribution shape.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ndarray</span>
<span class="sd">            Iterable range for the spectral power distribution shape</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If one of spectral shape *start*, *end* or *steps* attributes is</span>
<span class="sd">            not defined.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; SpectralShape(0, 10, 0.1).range()</span>
<span class="sd">        array([  0. ,   0.1,   0.2,   0.3,   0.4,   0.5,   0.6,   0.7,   0.8,</span>
<span class="sd">                 0.9,   1. ,   1.1,   1.2,   1.3,   1.4,   1.5,   1.6,   1.7,</span>
<span class="sd">                 1.8,   1.9,   2. ,   2.1,   2.2,   2.3,   2.4,   2.5,   2.6,</span>
<span class="sd">                 2.7,   2.8,   2.9,   3. ,   3.1,   3.2,   3.3,   3.4,   3.5,</span>
<span class="sd">                 3.6,   3.7,   3.8,   3.9,   4. ,   4.1,   4.2,   4.3,   4.4,</span>
<span class="sd">                 4.5,   4.6,   4.7,   4.8,   4.9,   5. ,   5.1,   5.2,   5.3,</span>
<span class="sd">                 5.4,   5.5,   5.6,   5.7,   5.8,   5.9,   6. ,   6.1,   6.2,</span>
<span class="sd">                 6.3,   6.4,   6.5,   6.6,   6.7,   6.8,   6.9,   7. ,   7.1,</span>
<span class="sd">                 7.2,   7.3,   7.4,   7.5,   7.6,   7.7,   7.8,   7.9,   8. ,</span>
<span class="sd">                 8.1,   8.2,   8.3,   8.4,   8.5,   8.6,   8.7,   8.8,   8.9,</span>
<span class="sd">                 9. ,   9.1,   9.2,   9.3,   9.4,   9.5,   9.6,   9.7,   9.8,</span>
<span class="sd">                 9.9,  10. ])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">None</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__end</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">((</span><span class="s">&#39;One of the spectral shape &quot;start&quot;, &quot;end&quot; or &#39;</span>
                                <span class="s">&#39;&quot;steps&quot; attributes is not defined!&#39;</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__range</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__start</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">__end</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__range</span>

</div></div>
<div class="viewcode-block" id="SpectralPowerDistribution"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution">[docs]</a><span class="k">class</span> <span class="nc">SpectralPowerDistribution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines the base object for spectral data computations.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str or unicode</span>
<span class="sd">        Spectral power distribution name.</span>
<span class="sd">    data : dict</span>
<span class="sd">        Spectral power distribution data in a *dict* as follows:</span>
<span class="sd">        {wavelength :math:`\lambda_{i}`: value,</span>
<span class="sd">        wavelength :math:`\lambda_{i+1}`,</span>
<span class="sd">        ...,</span>
<span class="sd">        wavelength :math:`\lambda_{i+n}`}</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name</span>
<span class="sd">    data</span>
<span class="sd">    wavelengths</span>
<span class="sd">    values</span>
<span class="sd">    items</span>
<span class="sd">    shape</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    __getitem__</span>
<span class="sd">    __init__</span>
<span class="sd">    __setitem__</span>
<span class="sd">    __iter__</span>
<span class="sd">    __contains__</span>
<span class="sd">    __len__</span>
<span class="sd">    __eq__</span>
<span class="sd">    __ne__</span>
<span class="sd">    __add__</span>
<span class="sd">    __sub__</span>
<span class="sd">    __mul__</span>
<span class="sd">    __div__</span>
<span class="sd">    __truediv__</span>
<span class="sd">    get</span>
<span class="sd">    is_uniform</span>
<span class="sd">    extrapolate</span>
<span class="sd">    interpolate</span>
<span class="sd">    align</span>
<span class="sd">    zeros</span>
<span class="sd">    normalise</span>
<span class="sd">    clone</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">    &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">    &gt;&gt;&gt; spd.wavelengths</span>
<span class="sd">    array([510, 520, 530, 540])</span>
<span class="sd">    &gt;&gt;&gt; spd.values</span>
<span class="sd">    array([ 49.67,  69.59,  81.73,  88.19])</span>
<span class="sd">    &gt;&gt;&gt; spd.shape</span>
<span class="sd">    SpectralShape(510, 540, 10)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SpectralPowerDistribution.__init__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__name** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str or unicode</span>
<span class="sd">            self.__name.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__name</span>

    <span class="nd">@name.setter</span>
<div class="viewcode-block" id="SpectralPowerDistribution.name"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.name">[docs]</a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__name** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or unicode</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">unicode</span><span class="p">),</span> <span class="p">(</span>
                <span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &#39;</span>
                 <span class="s">&#39;&quot;str&quot; or &quot;unicode&quot;!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">value</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__data** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            self.__data.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>

    <span class="nd">@data.setter</span>
<div class="viewcode-block" id="SpectralPowerDistribution.data"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.data">[docs]</a>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__data** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : dict</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">,</span> <span class="p">(</span>
                <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &quot;dict&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">value</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">wavelengths</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.wavelengths** attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ndarray</span>
<span class="sd">            Spectral power distribution wavelengths :math:`\lambda_n`.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`SpectralPowerDistribution.wavelengths` is read only.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>

    <span class="nd">@wavelengths.setter</span>
<div class="viewcode-block" id="SpectralPowerDistribution.wavelengths"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.wavelengths">[docs]</a>    <span class="k">def</span> <span class="nf">wavelengths</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.wavelengths** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
            <span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;wavelengths&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.values** attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ndarray</span>
<span class="sd">            Spectral power distribution wavelengths :math:`\lambda_n` values.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`SpectralPowerDistribution.values` is read only.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">wavelength</span><span class="p">)</span>
                         <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">])</span>

    <span class="nd">@values.setter</span>
<div class="viewcode-block" id="SpectralPowerDistribution.values"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.values** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;values&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.items** attribute. This is a convenient attribute</span>
<span class="sd">        used to iterate over the spectral power distribution.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        generator</span>
<span class="sd">            Spectral power distribution data generator.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__iter__</span><span class="p">()</span>

    <span class="nd">@items.setter</span>
<div class="viewcode-block" id="SpectralPowerDistribution.items"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.items** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;items&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shape</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.shape** attribute.</span>

<span class="sd">        Returns the shape of the spectral power distribution in the form of a</span>
<span class="sd">        :class:`SpectralShape` class instance.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralShape</span>
<span class="sd">            Spectral power distribution shape.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.is_uniform</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   A non uniform spectral power distribution may will have multiple</span>
<span class="sd">            different steps, in that case</span>
<span class="sd">            :attr:`SpectralPowerDistribution.shape` returns the *minimum* steps</span>
<span class="sd">            size.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`SpectralPowerDistribution.shape` is read only.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Uniform spectral power distribution:</span>

<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; SpectralPowerDistribution(&#39;Spd&#39;, data).shape</span>
<span class="sd">        SpectralShape(510, 540, 10)</span>

<span class="sd">        Non uniform spectral power distribution:</span>

<span class="sd">        &gt;&gt;&gt; data = {512.3: 49.67, 524.5: 69.59, 532.4: 81.73, 545.7: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; # Doctests ellipsis for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; SpectralPowerDistribution(&#39;Spd&#39;, data).shape  # doctest: +ELLIPSIS</span>
<span class="sd">        SpectralShape(512.3, 545.7, 7...)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">SpectralShape</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
                             <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
                             <span class="nb">min</span><span class="p">(</span><span class="n">steps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">)))</span>

    <span class="nd">@shape.setter</span>
<div class="viewcode-block" id="SpectralPowerDistribution.shape"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.shape">[docs]</a>    <span class="k">def</span> <span class="nf">shape</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.shape** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;shape&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__hash__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__hash__">[docs]</a>    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral power distribution hash value.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            Object hash.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__hash__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`SpectralPowerDistribution` class is mutable and should not be</span>
<span class="sd">        hashable. However, so that it can be used as a key in some data caches,</span>
<span class="sd">        we provide a *__hash__* implementation, **assuming that the underlying</span>
<span class="sd">        data will not change for those specific cases**.</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [1]  http://stackoverflow.com/a/16162138/931625</span>
<span class="sd">                (Last accessed 8 August 2014)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">frozenset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__getitem__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__getitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the value for given wavelength :math:`\lambda`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength: numeric</span>
<span class="sd">            Wavelength :math:`\lambda` to retrieve the value.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric</span>
<span class="sd">            Wavelength :math:`\lambda` value.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.get</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__getitem__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; # Doctests ellipsis for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; spd[510]  # doctest: +ELLIPSIS</span>
<span class="sd">        49.67...</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">wavelength</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__setitem__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__setitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the wavelength :math:`\lambda` with given value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength : numeric</span>
<span class="sd">            Wavelength :math:`\lambda` to set.</span>
<span class="sd">        value : numeric</span>
<span class="sd">            Value for wavelength :math:`\lambda`.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__setitem__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, {})</span>
<span class="sd">        &gt;&gt;&gt; spd[510] = 49.6700</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 49.67])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">__setitem__</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__iter__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__iter__">[docs]</a>    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a generator for the spectral power distribution data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        generator</span>
<span class="sd">            Spectral power distribution data generator.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__iter__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; # Doctests ellipsis for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; for wavelength, value in spd: print((wavelength, value))  # noqa  # doctest: +ELLIPSIS</span>
<span class="sd">        (510, 49.6...)</span>
<span class="sd">        (520, 69.5...)</span>
<span class="sd">        (530, 81.7...)</span>
<span class="sd">        (540, 88.1...)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__contains__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__contains__">[docs]</a>    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if the spectral power distribution contains the given</span>
<span class="sd">        wavelength :math:`\lambda`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength : numeric</span>
<span class="sd">            Wavelength :math:`\lambda`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Is wavelength :math:`\lambda` in the spectral power distribution.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__contains__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; 510 in spd</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__len__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__len__">[docs]</a>    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral power distribution wavelengths :math:`\lambda_n`</span>
<span class="sd">        count.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            Spectral power distribution wavelengths :math:`\lambda_n` count.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__len__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; len(spd)</span>
<span class="sd">        4</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__eq__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__eq__">[docs]</a>    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral power distribution equality with given other</span>
<span class="sd">        spectral power distribution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        spd : SpectralPowerDistribution</span>
<span class="sd">            Spectral power distribution to compare for equality.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Spectral power distribution equality.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__eq__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data1 = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; data2 = {510: 48.6700, 520: 69.5900, 530: 81.7300, 540: 88.1900}</span>
<span class="sd">        &gt;&gt;&gt; spd1 = SpectralPowerDistribution(&#39;Spd&#39;, data1)</span>
<span class="sd">        &gt;&gt;&gt; spd2 = SpectralPowerDistribution(&#39;Spd&#39;, data2)</span>
<span class="sd">        &gt;&gt;&gt; spd3 = SpectralPowerDistribution(&#39;Spd&#39;, data2)</span>
<span class="sd">        &gt;&gt;&gt; spd1 == spd2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; spd2 == spd3</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">)</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__ne__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__ne__">[docs]</a>    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral power distribution inequality with given other</span>
<span class="sd">        spectral power distribution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        spd : SpectralPowerDistribution</span>
<span class="sd">            Spectral power distribution to compare for inequality.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Spectral power distribution inequality.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__ne__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data1 = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; data2 = {510: 48.6700, 520: 69.5900, 530: 81.7300, 540: 88.1900}</span>
<span class="sd">        &gt;&gt;&gt; spd1 = SpectralPowerDistribution(&#39;Spd&#39;, data1)</span>
<span class="sd">        &gt;&gt;&gt; spd2 = SpectralPowerDistribution(&#39;Spd&#39;, data2)</span>
<span class="sd">        &gt;&gt;&gt; spd3 = SpectralPowerDistribution(&#39;Spd&#39;, data2)</span>
<span class="sd">        &gt;&gt;&gt; spd1 != spd2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; spd2 != spd3</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span> <span class="o">==</span> <span class="n">spd</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">__format_operand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Formats given :math:`x` variable operand to *numeric* or *ndarray*.</span>

<span class="sd">        This method is a convenient method to prepare the given :math:`x`</span>
<span class="sd">        variable for the arithmetic operations below.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or ndarray or SpectralPowerDistribution</span>
<span class="sd">            Variable to format.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric or ndarray</span>
<span class="sd">            Formatted operand.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">SpectralPowerDistribution</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">values</span>
        <span class="k">elif</span> <span class="n">is_iterable</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">to_ndarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">x</span>

<div class="viewcode-block" id="SpectralPowerDistribution.__add__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__add__">[docs]</a>    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for spectral power distribution addition.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or SpectralPowerDistribution</span>
<span class="sd">            Variable to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Variable added spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.__sub__, SpectralPowerDistribution.__mul__,</span>
<span class="sd">        SpectralPowerDistribution.__div__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__add__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The addition operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Adding a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd + 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 59.67,  79.59,  91.73,  98.19])</span>

<span class="sd">        Adding an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; spd + [1, 2, 3, 4]  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([  60.67,   81.59,   94.73,  102.19])</span>

<span class="sd">        Adding a :class:`SpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; spd_alternate = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd + spd_alternate  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 110.34,  151.18,  176.46,  190.38])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__sub__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__sub__">[docs]</a>    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for spectral power distribution subtraction.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or SpectralPowerDistribution</span>
<span class="sd">            Variable to subtract.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Variable subtracted spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.__add__, SpectralPowerDistribution.__mul__,</span>
<span class="sd">        SpectralPowerDistribution.__div__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__sub__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The subtraction operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Subtracting a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd - 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 39.67,  59.59,  71.73,  78.19])</span>

<span class="sd">        Subtracting an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; spd - [1, 2, 3, 4]  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 38.67,  57.59,  68.73,  74.19])</span>

<span class="sd">        Subtracting a :class:`SpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; spd_alternate = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd - spd_alternate  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([-11., -12., -13., -14.])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__mul__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__mul__">[docs]</a>    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for spectral power distribution multiplication.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or SpectralPowerDistribution</span>
<span class="sd">            Variable to multiply.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Variable multiplied spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.__add__, SpectralPowerDistribution.__sub__,</span>
<span class="sd">        SpectralPowerDistribution.__div__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__mul__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The multiplication operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Multiplying a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd * 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 496.7,  695.9,  817.3,  881.9])</span>

<span class="sd">        Multiplying an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; spd * [1, 2, 3, 4]  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([  496.7,  1391.8,  2451.9,  3527.6])</span>

<span class="sd">        Multiplying a :class:`SpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; spd_alternate = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd * spd_alternate  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([  24671.089,   96855.362,  200393.787,  311099.044])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.__div__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.__div__">[docs]</a>    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for spectral power distribution division.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or SpectralPowerDistribution</span>
<span class="sd">            Variable to divide.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Variable divided spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.__add__, SpectralPowerDistribution.__sub__,</span>
<span class="sd">        SpectralPowerDistribution.__mul__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__div__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The division operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Dividing a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd / 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 4.967,  6.959,  8.173,  8.819])</span>

<span class="sd">        Dividing an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; spd / [1, 2, 3, 4]  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([ 4.967     ,  3.4795    ,  2.72433333,  2.20475   ])</span>

<span class="sd">        Dividing a :class:`SpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; spd_alternate = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd / spd_alternate  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values  # doctest: +ELLIPSIS</span>
<span class="sd">        array([ 0.1       ,  0.05      ,  0.0333333...,  0.025     ])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">))))</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="c"># Python 3 compatibility.</span></div>
    <span class="n">__truediv__</span> <span class="o">=</span> <span class="n">__div__</span>

<div class="viewcode-block" id="SpectralPowerDistribution.get"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the value for given wavelength :math:`\lambda`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength : numeric</span>
<span class="sd">            Wavelength :math:`\lambda` to retrieve the value.</span>
<span class="sd">        default : None or numeric, optional</span>
<span class="sd">            Wavelength :math:`\lambda` default value.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric</span>
<span class="sd">            Wavelength :math:`\lambda` value.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.__getitem__</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; # Doctests ellipsis for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; spd.get(510)  # doctest: +ELLIPSIS</span>
<span class="sd">        49.67...</span>
<span class="sd">        &gt;&gt;&gt; spd.get(511)  # doctest: +SKIP</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">wavelength</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">default</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.is_uniform"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.is_uniform">[docs]</a>    <span class="k">def</span> <span class="nf">is_uniform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if the spectral power distribution has uniformly spaced data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Is uniform.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.shape</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd.is_uniform()</span>
<span class="sd">        True</span>

<span class="sd">        Breaking the steps by introducing a new wavelength :math:`\lambda`</span>
<span class="sd">        value:</span>

<span class="sd">        &gt;&gt;&gt; spd[511] = 3.1415</span>
<span class="sd">        &gt;&gt;&gt; spd.is_uniform()</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">is_uniform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.extrapolate"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.extrapolate">[docs]</a>    <span class="k">def</span> <span class="nf">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">shape</span><span class="p">,</span>
                    <span class="n">method</span><span class="o">=</span><span class="s">&#39;Constant&#39;</span><span class="p">,</span>
                    <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extrapolates the spectral power distribution following *CIE 15:2004*</span>
<span class="sd">        recommendation.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape</span>
<span class="sd">            Spectral shape used for extrapolation.</span>
<span class="sd">        method : unicode, optional</span>
<span class="sd">            (&#39;Linear&#39;, &#39;Constant&#39;),</span>
<span class="sd">            Extrapolation method.</span>
<span class="sd">        left : numeric, optional</span>
<span class="sd">            Value to return for low extrapolation range.</span>
<span class="sd">        right : numeric, optional</span>
<span class="sd">            Value to return for high extrapolation range.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Extrapolated spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.align</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [2]  `CIE 015:2004 Colorimetry, 3rd edition: 7.2.2.1 Extrapolation</span>
<span class="sd">                &lt;https://law.resource.org/pub/us/cfr/ibr/003/cie.15.2004.pdf&gt;`_,  # noqa</span>
<span class="sd">                ISBN-13: 978-3-901-90633-6</span>

<span class="sd">        .. [3]  `CIE 167:2005 Recommended Practice for Tabulating Spectral Data</span>
<span class="sd">                for Use in Colour Computations: 10. EXTRAPOLATION</span>
<span class="sd">                &lt;http://div1.cie.co.at/?i_ca_id=551&amp;pubid=47&gt;`_,</span>
<span class="sd">                ISBN-13: 978-3-901-90641-1</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd.extrapolate(SpectralShape(400, 700)).shape</span>
<span class="sd">        SpectralShape(400, 700, 10)</span>
<span class="sd">        &gt;&gt;&gt; # Doctests ellipsis for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; spd[400]  # doctest: +ELLIPSIS</span>
<span class="sd">        49.67...</span>
<span class="sd">        &gt;&gt;&gt; # Doctests ellipsis for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; spd[700]  # doctest: +ELLIPSIS</span>
<span class="sd">        88.1...</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">extrapolator</span> <span class="o">=</span> <span class="n">Extrapolator1d</span><span class="p">(</span>
            <span class="n">LinearInterpolator1d</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">),</span>
            <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span>
            <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">)</span>

        <span class="n">spd_shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shape</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">spd_shape</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
                           <span class="n">shape</span><span class="o">.</span><span class="n">start</span> <span class="o">-</span> <span class="n">spd_shape</span><span class="o">.</span><span class="n">steps</span><span class="p">,</span>
                           <span class="o">-</span><span class="n">spd_shape</span><span class="o">.</span><span class="n">steps</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">extrapolator</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">spd_shape</span><span class="o">.</span><span class="n">end</span><span class="p">,</span>
                           <span class="n">shape</span><span class="o">.</span><span class="n">end</span> <span class="o">+</span> <span class="n">spd_shape</span><span class="o">.</span><span class="n">steps</span><span class="p">,</span>
                           <span class="n">spd_shape</span><span class="o">.</span><span class="n">steps</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">extrapolator</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.interpolate"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.interpolate">[docs]</a>    <span class="k">def</span> <span class="nf">interpolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">SpectralShape</span><span class="p">(),</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Interpolates the spectral power distribution following</span>
<span class="sd">        *CIE 167:2005* recommendations: the method developed by</span>
<span class="sd">        *Sprague (1880)* should be used for interpolating functions having a</span>
<span class="sd">        uniformly spaced independent variable and a *Cubic Spline* method for</span>
<span class="sd">        non-uniformly spaced independent variable.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape, optional</span>
<span class="sd">            Spectral shape used for interpolation.</span>
<span class="sd">        method : unicode, optional</span>
<span class="sd">            (&#39;Sprague&#39;, &#39;Cubic Spline&#39;, &#39;Linear&#39;),</span>
<span class="sd">            Enforce given interpolation method.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Interpolated spectral power distribution.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        RuntimeError</span>
<span class="sd">            If the *Sprague* interpolation method is forced with a</span>
<span class="sd">            non-uniformly spaced independent variable.</span>
<span class="sd">        ValueError</span>
<span class="sd">            If the interpolation method is not defined.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.align</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Interpolation will be conducted over boundaries range, if you need</span>
<span class="sd">            to extend the range of the spectral power distribution use the</span>
<span class="sd">            :meth:`SpectralPowerDistribution.extrapolate` or</span>
<span class="sd">            :meth:`SpectralPowerDistribution.align` methods.</span>
<span class="sd">        -   *Sprague* interpolator cannot be used for interpolating</span>
<span class="sd">            functions having a non-uniformly spaced independent variable.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        -   If *scipy* is not unavailable the *Cubic Spline* method will</span>
<span class="sd">            fallback to legacy *Linear* interpolation.</span>
<span class="sd">        -   *Linear* interpolator requires at least 2 wavelengths</span>
<span class="sd">            :math:`\lambda_n` for interpolation.</span>
<span class="sd">        -   *Cubic Spline* interpolator requires at least 3 wavelengths</span>
<span class="sd">            :math:`\lambda_n` for interpolation.</span>
<span class="sd">        -   *Sprague* interpolator requires at least 6 wavelengths</span>
<span class="sd">            :math:`\lambda_n` for interpolation.</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [4]  `CIE 167:2005 Recommended Practice for Tabulating Spectral Data</span>
<span class="sd">                for Use in Colour Computations: 9. INTERPOLATION</span>
<span class="sd">                &lt;http://div1.cie.co.at/?i_ca_id=551&amp;pubid=47&gt;`_,</span>
<span class="sd">                ISBN-13: 978-3-901-90641-1</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Uniform data is using *Sprague* interpolation by default:</span>

<span class="sd">        &gt;&gt;&gt; data = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 86.26,</span>
<span class="sd">        ...     560: 77.18}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd.interpolate(SpectralShape(steps=1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd[515]  # doctest: +ELLIPSIS</span>
<span class="sd">        60.3121800...</span>

<span class="sd">        Non uniform data is using *Cubic Spline* interpolation by default:</span>

<span class="sd">        &gt;&gt;&gt; data = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 86.26,</span>
<span class="sd">        ...     560: 77.18}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd[511] = 31.41</span>
<span class="sd">        &gt;&gt;&gt; spd.interpolate(SpectralShape(steps=1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd[515]  # doctest: +ELLIPSIS</span>
<span class="sd">        21.4792222...</span>

<span class="sd">        Enforcing *Linear* interpolation:</span>

<span class="sd">        &gt;&gt;&gt; data = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 86.26,</span>
<span class="sd">        ...     560: 77.18}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd.interpolate(SpectralShape(steps=1), method=&#39;Linear&#39;)  # noqa  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; # Doctests ellipsis for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; spd[515]  # doctest: +ELLIPSIS</span>
<span class="sd">        59.63...</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">spd_shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">boundaries</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">((</span><span class="n">shape</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">shape</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">shape</span><span class="o">.</span><span class="n">steps</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">spd_shape</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">spd_shape</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">spd_shape</span><span class="o">.</span><span class="n">steps</span><span class="p">))</span>
        <span class="n">boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boundaries</span><span class="p">]</span>
        <span class="n">shape</span> <span class="o">=</span> <span class="n">SpectralShape</span><span class="p">(</span><span class="o">*</span><span class="n">boundaries</span><span class="p">)</span>

        <span class="c"># Defining proper interpolation bounds.</span>
        <span class="c"># TODO: Provide support for fractional steps like 0.1, etc...</span>
        <span class="n">shape</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">spd_shape</span><span class="o">.</span><span class="n">start</span><span class="p">))</span>
        <span class="n">shape</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">shape</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">spd_shape</span><span class="o">.</span><span class="n">end</span><span class="p">))</span>

        <span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span>
        <span class="n">is_uniform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_uniform</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">is_string</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>
            <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">method</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_uniform</span><span class="p">:</span>
                <span class="n">interpolator</span> <span class="o">=</span> <span class="n">SpragueInterpolator</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">interpolator</span> <span class="o">=</span> <span class="n">SplineInterpolator</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s">&#39;sprague&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_uniform</span><span class="p">:</span>
                <span class="n">interpolator</span> <span class="o">=</span> <span class="n">SpragueInterpolator</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="p">(</span><span class="s">&#39;&quot;Sprague&quot; interpolator can only be used for &#39;</span>
                     <span class="s">&#39;interpolating functions having a uniformly spaced &#39;</span>
                     <span class="s">&#39;independent variable!&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s">&#39;cubic spline&#39;</span><span class="p">:</span>
            <span class="n">interpolator</span> <span class="o">=</span> <span class="n">SplineInterpolator</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s">&#39;linear&#39;</span><span class="p">:</span>
            <span class="n">interpolator</span> <span class="o">=</span> <span class="n">LinearInterpolator1d</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s">&#39;Undefined &quot;{0}&quot; interpolator!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">method</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">wavelength</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">interpolator</span><span class="p">(</span><span class="n">wavelength</span><span class="p">)))</span>
                            <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="n">shape</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.align"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.align">[docs]</a>    <span class="k">def</span> <span class="nf">align</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
              <span class="n">shape</span><span class="p">,</span>
              <span class="n">method</span><span class="o">=</span><span class="s">&#39;Constant&#39;</span><span class="p">,</span>
              <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Aligns the spectral power distribution to given spectral shape:</span>
<span class="sd">        Interpolates first then extrapolates to fit the given range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape</span>
<span class="sd">            Spectral shape used for alignment.</span>
<span class="sd">        method : unicode, optional</span>
<span class="sd">            (&#39;Linear&#39;, &#39;Constant&#39;),</span>
<span class="sd">            Extrapolation method.</span>
<span class="sd">        left : numeric, optional</span>
<span class="sd">            Value to return for low extrapolation range.</span>
<span class="sd">        right : numeric, optional</span>
<span class="sd">            Value to return for high extrapolation range.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Aligned spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.extrapolate,</span>
<span class="sd">        SpectralPowerDistribution.interpolate</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 86.26,</span>
<span class="sd">        ...     560: 77.18}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd.align(SpectralShape(505, 565, 1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; # Doctests skip for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; spd.wavelengths  # doctest: +SKIP</span>
<span class="sd">        array([505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517,</span>
<span class="sd">               518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530,</span>
<span class="sd">               531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543,</span>
<span class="sd">               544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556,</span>
<span class="sd">               557, 558, 559, 560, 561, 562, 563, 564, 565])</span>
<span class="sd">        &gt;&gt;&gt; spd.values  # doctest: +ELLIPSIS</span>
<span class="sd">        array([ 49.67     ...,  49.67     ...,  49.67     ...,  49.67     ...,</span>
<span class="sd">                49.67     ...,  49.67     ...,  51.8341162...,  53.9856467...,</span>
<span class="sd">                56.1229464...,  58.2366197...,  60.3121800...,  62.3327095...,</span>
<span class="sd">                64.2815187...,  66.1448055...,  67.9143153...,  69.59     ...,</span>
<span class="sd">                71.1759958...,  72.6627938...,  74.0465756...,  75.3329710...,</span>
<span class="sd">                76.5339542...,  77.6647421...,  78.7406907...,  79.7741932...,</span>
<span class="sd">                80.7715767...,  81.73     ...,  82.6407518...,  83.507872 ...,</span>
<span class="sd">                84.3326333...,  85.109696 ...,  85.8292968...,  86.47944  ...,</span>
<span class="sd">                87.0480863...,  87.525344 ...,  87.9056578...,  88.19     ...,</span>
<span class="sd">                88.3858347...,  88.4975634...,  88.5258906...,  88.4696570...,</span>
<span class="sd">                88.3266460...,  88.0943906...,  87.7709802...,  87.3558672...,</span>
<span class="sd">                86.8506741...,  86.26     ...,  85.5911699...,  84.8503430...,</span>
<span class="sd">                84.0434801...,  83.1771110...,  82.2583874...,  81.2951360...,</span>
<span class="sd">                80.2959122...,  79.2700525...,  78.2277286...,  77.18     ...,</span>
<span class="sd">                77.18     ...,  77.18     ...,  77.18     ...,  77.18     ...,  77.18      ])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extrapolate</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.zeros"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.zeros">[docs]</a>    <span class="k">def</span> <span class="nf">zeros</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">SpectralShape</span><span class="p">()):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Zeros fills the spectral power distribution: Missing values will be</span>
<span class="sd">        replaced with zeros to fit the defined range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape, optional</span>
<span class="sd">            Spectral shape used for zeros fill.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Zeros filled spectral power distribution.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 86.26,</span>
<span class="sd">        ...     560: 77.18}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd.zeros(SpectralShape(505, 565, 1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values</span>
<span class="sd">        array([  0.  ,   0.  ,   0.  ,   0.  ,   0.  ,  49.67,   0.  ,   0.  ,</span>
<span class="sd">                 0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,  69.59,</span>
<span class="sd">                 0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,</span>
<span class="sd">                 0.  ,  81.73,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,</span>
<span class="sd">                 0.  ,   0.  ,   0.  ,  88.19,   0.  ,   0.  ,   0.  ,   0.  ,</span>
<span class="sd">                 0.  ,   0.  ,   0.  ,   0.  ,   0.  ,  86.26,   0.  ,   0.  ,</span>
<span class="sd">                 0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,  77.18,</span>
<span class="sd">                 0.  ,   0.  ,   0.  ,   0.  ,   0.  ])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">spd_shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">boundaries</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">((</span><span class="n">shape</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">shape</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">shape</span><span class="o">.</span><span class="n">steps</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">spd_shape</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">spd_shape</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">spd_shape</span><span class="o">.</span><span class="n">end</span><span class="p">))</span>
        <span class="n">boundaries</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boundaries</span><span class="p">]</span>
        <span class="n">shape</span> <span class="o">=</span> <span class="n">SpectralShape</span><span class="p">(</span><span class="o">*</span><span class="n">boundaries</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="p">[(</span><span class="n">wavelength</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="n">shape</span><span class="p">])</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.normalise"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.normalise">[docs]</a>    <span class="k">def</span> <span class="nf">normalise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Normalises the spectral power distribution with given normalization</span>
<span class="sd">        factor.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        factor : numeric, optional</span>
<span class="sd">            Normalization factor</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Normalised spectral power distribution.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; spd.normalise()  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd.values  # doctest: +ELLIPSIS</span>
<span class="sd">        array([ 0.5632157...,  0.7890917...,  0.9267490...,  1.        ])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)))</span> <span class="o">*</span> <span class="n">factor</span>
</div>
<div class="viewcode-block" id="SpectralPowerDistribution.clone"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.SpectralPowerDistribution.clone">[docs]</a>    <span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clones the spectral power distribution.</span>

<span class="sd">        Most of the :class:`SpectralPowerDistribution` class operations are</span>
<span class="sd">        conducted in-place. The :meth:`SpectralPowerDistribution.clone` method</span>
<span class="sd">        provides a convenient way to copy the spectral power distribution to a</span>
<span class="sd">        new object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Cloned spectral power distribution.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; data = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; spd = SpectralPowerDistribution(&#39;Spd&#39;, data)</span>
<span class="sd">        &gt;&gt;&gt; print(spd)  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; spd_clone = spd.clone()</span>
<span class="sd">        &gt;&gt;&gt; print(spd_clone)  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...SpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TriSpectralPowerDistribution"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution">[docs]</a><span class="k">class</span> <span class="nc">TriSpectralPowerDistribution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines the base object for colour matching functions.</span>

<span class="sd">    A compound of three :class:`SpectralPowerDistribution` is used to store</span>
<span class="sd">    the underlying axis data.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str or unicode</span>
<span class="sd">        Tri-spectral power distribution name.</span>
<span class="sd">    data : dict</span>
<span class="sd">        Tri-spectral power distribution data.</span>
<span class="sd">    mapping : dict</span>
<span class="sd">        Tri-spectral power distribution attributes mapping.</span>
<span class="sd">    labels : dict</span>
<span class="sd">        Tri-spectral power distribution axis labels mapping.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name</span>
<span class="sd">    mapping</span>
<span class="sd">    data</span>
<span class="sd">    labels</span>
<span class="sd">    x</span>
<span class="sd">    y</span>
<span class="sd">    z</span>
<span class="sd">    wavelengths</span>
<span class="sd">    values</span>
<span class="sd">    items</span>
<span class="sd">    shape</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    __init__</span>
<span class="sd">    __getitem__</span>
<span class="sd">    __setitem__</span>
<span class="sd">    __iter__</span>
<span class="sd">    __contains__</span>
<span class="sd">    __len__</span>
<span class="sd">    __eq__</span>
<span class="sd">    __ne__</span>
<span class="sd">    __add__</span>
<span class="sd">    __sub__</span>
<span class="sd">    __mul__</span>
<span class="sd">    __div__</span>
<span class="sd">    __truediv__</span>
<span class="sd">    get</span>
<span class="sd">    is_uniform</span>
<span class="sd">    extrapolate</span>
<span class="sd">    interpolate</span>
<span class="sd">    align</span>
<span class="sd">    zeros</span>
<span class="sd">    normalise</span>
<span class="sd">    clone</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    colour.colorimetry.cmfs.LMS_ConeFundamentals,</span>
<span class="sd">    colour.colorimetry.cmfs.RGB_ColourMatchingFunctions,</span>
<span class="sd">    colour.colorimetry.cmfs.XYZ_ColourMatchingFunctions</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">    &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">    &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">    &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">    &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">    &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">    &gt;&gt;&gt; tri_spd.wavelengths</span>
<span class="sd">    array([510, 520, 530, 540])</span>
<span class="sd">    &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">    array([[ 49.67,  90.56,  12.43],</span>
<span class="sd">           [ 69.59,  87.34,  23.15],</span>
<span class="sd">           [ 81.73,  45.76,  67.98],</span>
<span class="sd">           [ 88.19,  23.45,  90.28]])</span>
<span class="sd">    &gt;&gt;&gt; tri_spd.shape</span>
<span class="sd">    SpectralShape(510, 540, 10)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TriSpectralPowerDistribution.__init__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">mapping</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span> <span class="o">=</span> <span class="n">mapping</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__labels</span> <span class="o">=</span> <span class="n">labels</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__name** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str or unicode</span>
<span class="sd">            self.__name.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__name</span>

    <span class="nd">@name.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.name"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.name">[docs]</a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__name** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or unicode</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">unicode</span><span class="p">),</span> <span class="p">(</span>
                <span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &#39;</span>
                 <span class="s">&#39;&quot;str&quot; or &quot;unicode&quot;!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">value</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__mapping** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            self.__mapping.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span>

    <span class="nd">@mapping.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.mapping"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.mapping">[docs]</a>    <span class="k">def</span> <span class="nf">mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__mapping** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : dict</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">,</span> <span class="p">(</span>
                <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &quot;dict&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s">&#39;mapping&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">):</span>
                <span class="k">assert</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">(</span>
                    <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; axis label is missing!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="s">&#39;mapping&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span> <span class="o">=</span> <span class="n">value</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__data** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            self.__data.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span>

    <span class="nd">@data.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.data"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.data">[docs]</a>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__data** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : dict</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">,</span> <span class="p">(</span>
                <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &quot;dict&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">):</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">(</span>
                    <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; axis is missing!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="p">))</span>

            <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">):</span>
                <span class="n">data</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">=</span> <span class="n">SpectralPowerDistribution</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span>
                    <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">axis</span><span class="p">)))</span>

            <span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_almost_equal</span><span class="p">(</span>
                <span class="n">data</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                <span class="n">data</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                <span class="n">err_msg</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; and &quot;{2}&quot; wavelengths are &#39;</span>
                         <span class="s">&#39;different!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">,</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">),</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)))</span>
            <span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_almost_equal</span><span class="p">(</span>
                <span class="n">data</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                <span class="n">data</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span>
                <span class="n">err_msg</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; and &quot;{2}&quot; wavelengths are &#39;</span>
                         <span class="s">&#39;different!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">,</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">),</span>
                                              <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__data</span> <span class="o">=</span> <span class="bp">None</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.__labels** private attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            self.__labels.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__labels</span>

    <span class="nd">@labels.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.labels"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.labels">[docs]</a>    <span class="k">def</span> <span class="nf">labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.__labels** private attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : dict</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">,</span> <span class="p">(</span>
                <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; type is not &quot;dict&quot;!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s">&#39;labels&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">):</span>
                <span class="k">assert</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">(</span>
                    <span class="s">&#39;&quot;{0}&quot; attribute: &quot;{1}&quot; axis label is missing!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="s">&#39;labels&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__labels</span> <span class="o">=</span> <span class="n">value</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.x** attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Spectral power distribution for *x* axis.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`TriSpectralPowerDistribution.x` is read only.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>

    <span class="nd">@x.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.x"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.x">[docs]</a>    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.x** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.y** attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Spectral power distribution for *y* axis.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`TriSpectralPowerDistribution.y` is read only.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>

    <span class="nd">@y.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.y"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.y">[docs]</a>    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.y** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.z** attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralPowerDistribution</span>
<span class="sd">            Spectral power distribution for *z* axis.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`TriSpectralPowerDistribution.z` is read only.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>

    <span class="nd">@z.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.z"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.z">[docs]</a>    <span class="k">def</span> <span class="nf">z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.z** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">wavelengths</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.wavelengths** attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ndarray</span>
<span class="sd">            Tri-spectral power distribution wavelengths :math:`\lambda_n`.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`TriSpectralPowerDistribution.wavelengths` is read only.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">wavelengths</span>

    <span class="nd">@wavelengths.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.wavelengths"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.wavelengths">[docs]</a>    <span class="k">def</span> <span class="nf">wavelengths</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.wavelengths** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
            <span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;wavelengths&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.values** attribute.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ndarray</span>
<span class="sd">            Tri-spectral power distribution wavelengths :math:`\lambda_n`</span>
<span class="sd">            values.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`TriSpectralPowerDistribution.values` is read only.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">wavelength</span><span class="p">)</span>
                         <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">])</span>

    <span class="nd">@values.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.values"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.values** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;values&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.items** attribute. This is a convenient attribute</span>
<span class="sd">        used to iterate over the tri-spectral power distribution.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        generator</span>
<span class="sd">            Tri-spectral power distribution data generator.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__iter__</span><span class="p">()</span>

    <span class="nd">@items.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.items"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.items** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;items&#39;</span><span class="p">))</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shape</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property for **self.shape** attribute.</span>

<span class="sd">        Returns the shape of the tri-spectral power distribution in the form of</span>
<span class="sd">        a :class:`SpectralShape` class instance.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SpectralShape</span>
<span class="sd">            Tri-spectral power distribution shape.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        SpectralPowerDistribution.is_uniform,</span>
<span class="sd">        TriSpectralPowerDistribution.is_uniform</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        :attr:`TriSpectralPowerDistribution.shape` is read only.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.shape</span>
<span class="sd">        SpectralShape(510, 540, 10)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span>

    <span class="nd">@shape.setter</span>
<div class="viewcode-block" id="TriSpectralPowerDistribution.shape"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.shape">[docs]</a>    <span class="k">def</span> <span class="nf">shape</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for **self.shape** attribute.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : object</span>
<span class="sd">            Attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s">&#39;&quot;{0}&quot; attribute is read only!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;shape&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__hash__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__hash__">[docs]</a>    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the spectral power distribution hash value.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            Object hash.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__hash__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        See :meth:`SpectralPowerDistribution.__hash__` method warning section.</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [5]  http://stackoverflow.com/a/16162138/931625</span>
<span class="sd">                (Last accessed 8 August 2014)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="nb">frozenset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)),</span>
                     <span class="nb">frozenset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)),</span>
                     <span class="nb">frozenset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">))))</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__getitem__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__getitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the values for given wavelength :math:`\lambda`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength: numeric</span>
<span class="sd">            Wavelength :math:`\lambda` to retrieve the values.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ndarray, (3,)</span>
<span class="sd">            Wavelength :math:`\lambda` values.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.get</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__getitem__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[510]</span>
<span class="sd">        array([ 49.67,  90.56,  12.43])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">wavelength</span><span class="p">],</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">wavelength</span><span class="p">],</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">wavelength</span><span class="p">]))</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__setitem__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__setitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the wavelength :math:`\lambda` with given value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength : numeric</span>
<span class="sd">            Wavelength :math:`\lambda` to set.</span>
<span class="sd">        value : array_like</span>
<span class="sd">            Value for wavelength :math:`\lambda`.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__setitem__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[510] = (49.6700, 49.6700, 49.6700)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[ 49.67,  49.67,  49.67]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">__setitem__</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">__setitem__</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">__setitem__</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__iter__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__iter__">[docs]</a>    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a generator for the tri-spectral power distribution data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        generator</span>
<span class="sd">            Tri-spectral power distribution data generator.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__iter__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; for wavelength, value in tri_spd: print((wavelength, value))</span>
<span class="sd">        (510, array([ 49.67,  90.56,  12.43]))</span>
<span class="sd">        (520, array([ 69.59,  87.34,  23.15]))</span>
<span class="sd">        (530, array([ 81.73,  45.76,  67.98]))</span>
<span class="sd">        (540, array([ 88.19,  23.45,  90.28]))</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">izip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__contains__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__contains__">[docs]</a>    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if the tri-spectral power distribution contains the given</span>
<span class="sd">        wavelength :math:`\lambda`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength : numeric</span>
<span class="sd">            Wavelength :math:`\lambda`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Is wavelength :math:`\lambda` in the tri-spectral power</span>
<span class="sd">            distribution.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__contains__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; 510 in tri_spd</span>
<span class="sd">        True</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__len__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__len__">[docs]</a>    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the tri-spectral power distribution wavelengths</span>
<span class="sd">        :math:`\lambda_n` count.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            Tri-Spectral power distribution wavelengths :math:`\lambda_n`</span>
<span class="sd">            count.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__len__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; len(tri_spd)</span>
<span class="sd">        4</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__eq__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__eq__">[docs]</a>    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tri_spd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the tri-spectral power distribution equality with given other</span>
<span class="sd">        tri-spectral power distribution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        spd : TriSpectralPowerDistribution</span>
<span class="sd">            Tri-spectral power distribution to compare for equality.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Tri-spectral power distribution equality.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__eq__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data1 = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; data2 = {&#39;x_bar&#39;: y_bar, &#39;y_bar&#39;: x_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd2 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data2, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd3 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 == tri_spd2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 == tri_spd3</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tri_spd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="n">equality</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="p">:</span>
            <span class="n">equality</span> <span class="o">*=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span> <span class="o">==</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">tri_spd</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">equality</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__ne__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__ne__">[docs]</a>    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tri_spd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the tri-spectral power distribution inequality with given other</span>
<span class="sd">        tri-spectral power distribution.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        spd : TriSpectralPowerDistribution</span>
<span class="sd">            Tri-spectral power distribution to compare for inequality.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Tri-spectral power distribution inequality.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__eq__` method.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data1 = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; data2 = {&#39;x_bar&#39;: y_bar, &#39;y_bar&#39;: x_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd2 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data2, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd3 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 != tri_spd2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 != tri_spd3</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span> <span class="o">==</span> <span class="n">tri_spd</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">__format_operand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Formats given :math:`x` variable operand to *numeric* or *ndarray*.</span>

<span class="sd">        This method is a convenient method to prepare the given :math:`x`</span>
<span class="sd">        variable for the arithmetic operations below.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or ndarray or TriSpectralPowerDistribution</span>
<span class="sd">            Variable to format.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric or ndarray</span>
<span class="sd">            Formatted operand.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">TriSpectralPowerDistribution</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">values</span>
        <span class="k">elif</span> <span class="n">is_iterable</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">to_ndarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">x</span>

<div class="viewcode-block" id="TriSpectralPowerDistribution.__add__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__add__">[docs]</a>    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for tri-spectral power distribution addition.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or TriSpectralPowerDistribution</span>
<span class="sd">            Variable to add.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Variable added tri-spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.__sub__,</span>
<span class="sd">        TriSpectralPowerDistribution.__mul__,</span>
<span class="sd">        TriSpectralPowerDistribution.__div__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__add__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The addition operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Adding a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd + 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[  59.67,  100.56,   22.43],</span>
<span class="sd">               [  79.59,   97.34,   33.15],</span>
<span class="sd">               [  91.73,   55.76,   77.98],</span>
<span class="sd">               [  98.19,   33.45,  100.28]])</span>

<span class="sd">        Adding an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; tri_spd + [(1, 2, 3)] * 4  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[  60.67,  102.56,   25.43],</span>
<span class="sd">               [  80.59,   99.34,   36.15],</span>
<span class="sd">               [  92.73,   57.76,   80.98],</span>
<span class="sd">               [  99.19,   35.45,  103.28]])</span>

<span class="sd">        Adding a :class:`TriSpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; data1 = {&#39;x_bar&#39;: z_bar, &#39;y_bar&#39;: x_bar, &#39;z_bar&#39;: y_bar}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd + tri_spd1  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[  73.1 ,  152.23,  115.99],</span>
<span class="sd">               [ 103.74,  168.93,  123.49],</span>
<span class="sd">               [ 160.71,  139.49,  126.74],</span>
<span class="sd">               [ 189.47,  123.64,  126.73]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">((</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]))</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__sub__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__sub__">[docs]</a>    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for tri-spectral power distribution subtraction.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or TriSpectralPowerDistribution</span>
<span class="sd">            Variable to subtract.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Variable subtracted tri-spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.__add__,</span>
<span class="sd">        TriSpectralPowerDistribution.__mul__,</span>
<span class="sd">        TriSpectralPowerDistribution.__div__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__sub__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The subtraction operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Subtracting a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd - 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[ 39.67,  80.56,   2.43],</span>
<span class="sd">               [ 59.59,  77.34,  13.15],</span>
<span class="sd">               [ 71.73,  35.76,  57.98],</span>
<span class="sd">               [ 78.19,  13.45,  80.28]])</span>

<span class="sd">        Subtracting an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; tri_spd - [(1, 2, 3)] * 4  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[ 38.67,  78.56,  -0.57],</span>
<span class="sd">               [ 58.59,  75.34,  10.15],</span>
<span class="sd">               [ 70.73,  33.76,  54.98],</span>
<span class="sd">               [ 77.19,  11.45,  77.28]])</span>

<span class="sd">        Subtracting a :class:`TriSpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; data1 = {&#39;x_bar&#39;: z_bar, &#39;y_bar&#39;: x_bar, &#39;z_bar&#39;: y_bar}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd - tri_spd1  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[ 26.24,  28.89, -91.13],</span>
<span class="sd">               [ 35.44,   5.75, -77.19],</span>
<span class="sd">               [  2.75, -47.97,   9.22],</span>
<span class="sd">               [-13.09, -76.74,  53.83]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__mul__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__mul__">[docs]</a>    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for tri-spectral power distribution multiplication.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or TriSpectralPowerDistribution</span>
<span class="sd">            Variable to multiply.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Variable multiplied tri-spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.__add__,</span>
<span class="sd">        TriSpectralPowerDistribution.__sub__,</span>
<span class="sd">        TriSpectralPowerDistribution.__div__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__mul__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The multiplication operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Multiplying a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd * 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[ 496.7,  905.6,  124.3],</span>
<span class="sd">               [ 695.9,  873.4,  231.5],</span>
<span class="sd">               [ 817.3,  457.6,  679.8],</span>
<span class="sd">               [ 881.9,  234.5,  902.8]])</span>

<span class="sd">        Multiplying an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; tri_spd * [(1, 2, 3)] * 4  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[  1986.8,   7244.8,   1491.6],</span>
<span class="sd">               [  2783.6,   6987.2,   2778. ],</span>
<span class="sd">               [  3269.2,   3660.8,   8157.6],</span>
<span class="sd">               [  3527.6,   1876. ,  10833.6]])</span>

<span class="sd">        Multiplying a :class:`TriSpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; data1 = {&#39;x_bar&#39;: z_bar, &#39;y_bar&#39;: x_bar, &#39;z_bar&#39;: y_bar}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd * tri_spd1  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[  24695.924,  359849.216,  135079.296],</span>
<span class="sd">               [  64440.34 ,  486239.248,  242630.52 ],</span>
<span class="sd">               [ 222240.216,  299197.184,  373291.776],</span>
<span class="sd">               [ 318471.728,  165444.44 ,  254047.92 ]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">((</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__data</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]))</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.__div__"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.__div__">[docs]</a>    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implements support for tri-spectral power distribution division.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x : numeric or array_like or TriSpectralPowerDistribution</span>
<span class="sd">            Variable to divide.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Variable divided tri-spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.__add__,</span>
<span class="sd">        TriSpectralPowerDistribution.__sub__,</span>
<span class="sd">        TriSpectralPowerDistribution.__mul__</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   Reimplements the :meth:`object.__mul__` method.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        The division operation happens in place.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Dividing a single *numeric* variable:</span>

<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd / 10  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[ 4.967,  9.056,  1.243],</span>
<span class="sd">               [ 6.959,  8.734,  2.315],</span>
<span class="sd">               [ 8.173,  4.576,  6.798],</span>
<span class="sd">               [ 8.819,  2.345,  9.028]])</span>

<span class="sd">        Dividing an *array_like* variable:</span>

<span class="sd">        &gt;&gt;&gt; tri_spd / [(1, 2, 3)] * 4  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values  # doctest: +ELLIPSIS</span>
<span class="sd">        array([[ 19.868     ,  18.112     ,   1.6573333...],</span>
<span class="sd">               [ 27.836     ,  17.468     ,   3.0866666...],</span>
<span class="sd">               [ 32.692     ,   9.152     ,   9.064    ...],</span>
<span class="sd">               [ 35.276     ,   4.69      ,  12.0373333...]])</span>

<span class="sd">        Dividing a :class:`TriSpectralPowerDistribution` class variable:</span>

<span class="sd">        &gt;&gt;&gt; data1 = {&#39;x_bar&#39;: z_bar, &#39;y_bar&#39;: x_bar, &#39;z_bar&#39;: y_bar}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd1 = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data1, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd / tri_spd1  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values  # doctest: +ELLIPSIS</span>
<span class="sd">        array([[ 1.5983909...,  0.3646466...,  0.0183009...],</span>
<span class="sd">               [ 1.2024190...,  0.2510130...,  0.0353408...],</span>
<span class="sd">               [ 0.4809061...,  0.1119784...,  0.1980769...],</span>
<span class="sd">               [ 0.3907399...,  0.0531806...,  0.5133191...]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">__format_operand</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

    <span class="c"># Python 3 compatibility.</span></div>
    <span class="n">__truediv__</span> <span class="o">=</span> <span class="n">__div__</span>

<div class="viewcode-block" id="TriSpectralPowerDistribution.get"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the values for given wavelength :math:`\lambda`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wavelength : numeric</span>
<span class="sd">            Wavelength :math:`\lambda` to retrieve the values.</span>
<span class="sd">        default : None or numeric, optional</span>
<span class="sd">            Wavelength :math:`\lambda` default values.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numeric</span>
<span class="sd">            Wavelength :math:`\lambda` values.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.__getitem__</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[510]</span>
<span class="sd">        array([ 49.67,  90.56,  12.43])</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.get(511)  # doctest: +SKIP</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">wavelength</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">default</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.is_uniform"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.is_uniform">[docs]</a>    <span class="k">def</span> <span class="nf">is_uniform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if the tri-spectral power distribution has uniformly spaced</span>
<span class="sd">        data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Is uniform.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.shape</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.is_uniform()</span>
<span class="sd">        True</span>

<span class="sd">        Breaking the steps by introducing new wavelength :math:`\lambda`</span>
<span class="sd">        values:</span>

<span class="sd">        &gt;&gt;&gt; tri_spd[511] = (49.6700, 49.6700, 49.6700)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.is_uniform()</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">is_uniform</span><span class="p">():</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.extrapolate"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.extrapolate">[docs]</a>    <span class="k">def</span> <span class="nf">extrapolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">shape</span><span class="p">,</span>
                    <span class="n">method</span><span class="o">=</span><span class="s">&#39;Constant&#39;</span><span class="p">,</span>
                    <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extrapolates the tri-spectral power distribution following</span>
<span class="sd">        *CIE 15:2004* recommendation.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape</span>
<span class="sd">            Spectral shape used for extrapolation.</span>
<span class="sd">        method : unicode, optional</span>
<span class="sd">            (&#39;Linear&#39;, &#39;Constant&#39;),</span>
<span class="sd">            Extrapolation method.</span>
<span class="sd">        left : numeric, optional</span>
<span class="sd">            Value to return for low extrapolation range.</span>
<span class="sd">        right : numeric, optional</span>
<span class="sd">            Value to return for high extrapolation range.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Extrapolated tri-spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.align</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>

<span class="sd">        .. [6]  `CIE 015:2004 Colorimetry, 3rd edition: 7.2.2.1 Extrapolation</span>
<span class="sd">                &lt;https://law.resource.org/pub/us/cfr/ibr/003/cie.15.2004.pdf&gt;`_,  # noqa</span>
<span class="sd">                ISBN-13: 978-3-901-90633-6</span>
<span class="sd">        .. [7]  `CIE 167:2005 Recommended Practice for Tabulating Spectral Data</span>
<span class="sd">                for Use in Colour Computations: 10. EXTRAPOLATION</span>
<span class="sd">                &lt;http://div1.cie.co.at/?i_ca_id=551&amp;pubid=47&gt;`_,</span>
<span class="sd">                ISBN-13: 978-3-901-90641-1</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {510: 49.67, 520: 69.59, 530: 81.73, 540: 88.19}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {510: 90.56, 520: 87.34, 530: 45.76, 540: 23.45}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {510: 12.43, 520: 23.15, 530: 67.98, 540: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.extrapolate(SpectralShape(400, 700)).shape</span>
<span class="sd">        SpectralShape(400, 700, 10)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[400]</span>
<span class="sd">        array([ 49.67,  90.56,  12.43])</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[700]</span>
<span class="sd">        array([ 88.19,  23.45,  90.28])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">extrapolate</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.interpolate"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.interpolate">[docs]</a>    <span class="k">def</span> <span class="nf">interpolate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">SpectralShape</span><span class="p">(),</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Interpolates the tri-spectral power distribution following</span>
<span class="sd">        *CIE 167:2005* recommendations: the method developed by</span>
<span class="sd">        *Sprague (1880)* should be used for interpolating functions having a</span>
<span class="sd">        uniformly spaced independent variable and a *Cubic Spline* method for</span>
<span class="sd">        non-uniformly spaced independent variable.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape, optional</span>
<span class="sd">            Spectral shape used for interpolation.</span>
<span class="sd">        method : unicode, optional</span>
<span class="sd">            (&#39;Sprague&#39;, &#39;Cubic Spline&#39;, &#39;Linear&#39;),</span>
<span class="sd">            Enforce given interpolation method.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Interpolated tri-spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.align</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   See :meth:`SpectralPowerDistribution.interpolate` method</span>
<span class="sd">            notes section.</span>

<span class="sd">        Warning</span>
<span class="sd">        -------</span>
<span class="sd">        See :meth:`SpectralPowerDistribution.interpolate` method warning</span>
<span class="sd">        section.</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [8]  `CIE 167:2005 Recommended Practice for Tabulating Spectral Data</span>
<span class="sd">                for Use in Colour Computations: 9. INTERPOLATION</span>
<span class="sd">                &lt;http://div1.cie.co.at/?i_ca_id=551&amp;pubid=47&gt;`_,</span>
<span class="sd">                ISBN-13: 978-3-901-90641-1</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Uniform data is using *Sprague* interpolation by default:</span>

<span class="sd">        &gt;&gt;&gt; x_bar = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 89.76,</span>
<span class="sd">        ...     560: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {</span>
<span class="sd">        ...     510: 90.56,</span>
<span class="sd">        ...     520: 87.34,</span>
<span class="sd">        ...     530: 45.76,</span>
<span class="sd">        ...     540: 23.45,</span>
<span class="sd">        ...     550: 15.34,</span>
<span class="sd">        ...     560: 10.11}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {</span>
<span class="sd">        ...     510: 12.43,</span>
<span class="sd">        ...     520: 23.15,</span>
<span class="sd">        ...     530: 67.98,</span>
<span class="sd">        ...     540: 90.28,</span>
<span class="sd">        ...     550: 91.61,</span>
<span class="sd">        ...     560: 98.24}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.interpolate(SpectralShape(steps=1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[515]</span>
<span class="sd">        array([ 60.30332087,  93.27163315,  13.86051361])</span>

<span class="sd">        Non uniform data is using *Cubic Spline* interpolation by default:</span>

<span class="sd">        &gt;&gt;&gt; x_bar = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 89.76,</span>
<span class="sd">        ...     560: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {</span>
<span class="sd">        ...     510: 90.56,</span>
<span class="sd">        ...     520: 87.34,</span>
<span class="sd">        ...     530: 45.76,</span>
<span class="sd">        ...     540: 23.45,</span>
<span class="sd">        ...     550: 15.34,</span>
<span class="sd">        ...     560: 10.11}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {</span>
<span class="sd">        ...     510: 12.43,</span>
<span class="sd">        ...     520: 23.15,</span>
<span class="sd">        ...     530: 67.98,</span>
<span class="sd">        ...     540: 90.28,</span>
<span class="sd">        ...     550: 91.61,</span>
<span class="sd">        ...     560: 98.24}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[511] = (31.41, 95.27, 15.06)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.interpolate(SpectralShape(steps=1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[515]</span>
<span class="sd">        array([  21.47104053,  100.64300155,   18.8165196 ])</span>

<span class="sd">        Enforcing *Linear* interpolation:</span>

<span class="sd">        &gt;&gt;&gt; x_bar = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 89.76,</span>
<span class="sd">        ...     560: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {</span>
<span class="sd">        ...     510: 90.56,</span>
<span class="sd">        ...     520: 87.34,</span>
<span class="sd">        ...     530: 45.76,</span>
<span class="sd">        ...     540: 23.45,</span>
<span class="sd">        ...     550: 15.34,</span>
<span class="sd">        ...     560: 10.11}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {</span>
<span class="sd">        ...     510: 12.43,</span>
<span class="sd">        ...     520: 23.15,</span>
<span class="sd">        ...     530: 67.98,</span>
<span class="sd">        ...     540: 90.28,</span>
<span class="sd">        ...     550: 91.61,</span>
<span class="sd">        ...     560: 98.24}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.interpolate(SpectralShape(steps=1), method=&#39;Linear&#39;)  # noqa  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd[515]</span>
<span class="sd">        array([ 59.63,  88.95,  17.79])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.align"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.align">[docs]</a>    <span class="k">def</span> <span class="nf">align</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
              <span class="n">shape</span><span class="p">,</span>
              <span class="n">method</span><span class="o">=</span><span class="s">&#39;Constant&#39;</span><span class="p">,</span>
              <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Aligns the tri-spectral power distribution to given shape: Interpolates</span>
<span class="sd">        first then extrapolates to fit the given range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape</span>
<span class="sd">            Spectral shape used for alignment.</span>
<span class="sd">        method : unicode, optional</span>
<span class="sd">            (&#39;Linear&#39;, &#39;Constant&#39;),</span>
<span class="sd">            Extrapolation method.</span>
<span class="sd">        left : numeric, optional</span>
<span class="sd">            Value to return for low extrapolation range.</span>
<span class="sd">        right : numeric, optional</span>
<span class="sd">            Value to return for high extrapolation range.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Aligned tri-spectral power distribution.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        TriSpectralPowerDistribution.extrapolate,</span>
<span class="sd">        TriSpectralPowerDistribution.interpolate</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 89.76,</span>
<span class="sd">        ...     560: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {</span>
<span class="sd">        ...     510: 90.56,</span>
<span class="sd">        ...     520: 87.34,</span>
<span class="sd">        ...     530: 45.76,</span>
<span class="sd">        ...     540: 23.45,</span>
<span class="sd">        ...     550: 15.34,</span>
<span class="sd">        ...     560: 10.11}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {</span>
<span class="sd">        ...     510: 12.43,</span>
<span class="sd">        ...     520: 23.15,</span>
<span class="sd">        ...     530: 67.98,</span>
<span class="sd">        ...     540: 90.28,</span>
<span class="sd">        ...     550: 91.61,</span>
<span class="sd">        ...     560: 98.24}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.align(SpectralShape(505, 565, 1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; # Doctests skip for Python 2.x compatibility.</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.wavelengths  # doctest: +SKIP</span>
<span class="sd">        array([505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517,</span>
<span class="sd">               518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530,</span>
<span class="sd">               531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543,</span>
<span class="sd">               544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556,</span>
<span class="sd">               557, 558, 559, 560, 561, 562, 563, 564, 565])</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values  # doctest: +ELLIPSIS</span>
<span class="sd">        array([[ 49.67     ...,  90.56     ...,  12.43     ...],</span>
<span class="sd">               [ 49.67     ...,  90.56     ...,  12.43     ...],</span>
<span class="sd">               [ 49.67     ...,  90.56     ...,  12.43     ...],</span>
<span class="sd">               [ 49.67     ...,  90.56     ...,  12.43     ...],</span>
<span class="sd">               [ 49.67     ...,  90.56     ...,  12.43     ...],</span>
<span class="sd">               [ 49.67     ...,  90.56     ...,  12.43     ...],</span>
<span class="sd">               [ 51.8325938...,  91.2994928...,  12.5377184...],</span>
<span class="sd">               [ 53.9841952...,  91.9502387...,  12.7233193...],</span>
<span class="sd">               [ 56.1205452...,  92.5395463...,  12.9651679...],</span>
<span class="sd">               [ 58.2315395...,  93.0150037...,  13.3123777...],</span>
<span class="sd">               [ 60.3033208...,  93.2716331...,  13.8605136...],</span>
<span class="sd">               [ 62.3203719...,  93.1790455...,  14.7272944...],</span>
<span class="sd">               [ 64.2676077...,  92.6085951...,  16.0282961...],</span>
<span class="sd">               [ 66.1324679...,  91.4605335...,  17.8526544...],</span>
<span class="sd">               [ 67.9070097...,  89.6911649...,  20.2387677...],</span>
<span class="sd">               [ 69.59     ...,  87.34     ...,  23.15     ...],</span>
<span class="sd">               [ 71.1837378...,  84.4868033...,  26.5150469...],</span>
<span class="sd">               [ 72.6800056...,  81.0666018...,  30.3964852...],</span>
<span class="sd">               [ 74.0753483...,  77.0766254...,  34.7958422...],</span>
<span class="sd">               [ 75.3740343...,  72.6153870...,  39.6178858...],</span>
<span class="sd">               [ 76.5856008...,  67.8490714...,  44.7026805...],</span>
<span class="sd">               [ 77.7223995...,  62.9779261...,  49.8576432...],</span>
<span class="sd">               [ 78.7971418...,  58.2026503...,  54.8895997...],</span>
<span class="sd">               [ 79.8204447...,  53.6907852...,  59.6368406...],</span>
<span class="sd">               [ 80.798376 ...,  49.5431036...,  64.0011777...],</span>
<span class="sd">               [ 81.73     ...,  45.76     ...,  67.98     ...],</span>
<span class="sd">               [ 82.6093606...,  42.2678534...,  71.6460893...],</span>
<span class="sd">               [ 83.439232 ...,  39.10608  ...,  74.976976 ...],</span>
<span class="sd">               [ 84.2220071...,  36.3063728...,  77.9450589...],</span>
<span class="sd">               [ 84.956896 ...,  33.85464  ...,  80.552    ...],</span>
<span class="sd">               [ 85.6410156...,  31.7051171...,  82.8203515...],</span>
<span class="sd">               [ 86.27048  ...,  29.79448  ...,  84.785184 ...],</span>
<span class="sd">               [ 86.8414901...,  28.0559565...,  86.4857131...],</span>
<span class="sd">               [ 87.351424 ...,  26.43344  ...,  87.956928 ...],</span>
<span class="sd">               [ 87.7999266...,  24.8956009...,  89.2212178...],</span>
<span class="sd">               [ 88.19     ...,  23.45     ...,  90.28     ...],</span>
<span class="sd">               [ 88.5265036...,  22.1424091...,  91.1039133...],</span>
<span class="sd">               [ 88.8090803...,  20.9945234...,  91.6538035...],</span>
<span class="sd">               [ 89.0393279...,  20.0021787...,  91.9333499...],</span>
<span class="sd">               [ 89.2222817...,  19.1473370...,  91.9858818...],</span>
<span class="sd">               [ 89.3652954...,  18.4028179...,  91.8811002...],</span>
<span class="sd">               [ 89.4769231...,  17.7370306...,  91.7018000...],</span>
<span class="sd">               [ 89.5657996...,  17.1187058...,  91.5305910...],</span>
<span class="sd">               [ 89.6395227...,  16.5216272...,  91.4366204...],</span>
<span class="sd">               [ 89.7035339...,  15.9293635...,  91.4622944...],</span>
<span class="sd">               [ 89.76     ...,  15.34     ...,  91.61     ...],</span>
<span class="sd">               [ 89.8094041...,  14.7659177...,  91.8528616...],</span>
<span class="sd">               [ 89.8578890...,  14.2129190...,  92.2091737...],</span>
<span class="sd">               [ 89.9096307...,  13.6795969...,  92.6929664...],</span>
<span class="sd">               [ 89.9652970...,  13.1613510...,  93.2988377...],</span>
<span class="sd">               [ 90.0232498...,  12.6519811...,  94.0078786...],</span>
<span class="sd">               [ 90.0807467...,  12.1452800...,  94.7935995...],</span>
<span class="sd">               [ 90.1351435...,  11.6366269...,  95.6278555...],</span>
<span class="sd">               [ 90.1850956...,  11.1245805...,  96.4867724...],</span>
<span class="sd">               [ 90.2317606...,  10.6124724...,  97.3566724...],</span>
<span class="sd">               [ 90.28     ...,  10.11     ...,  98.24     ...],</span>
<span class="sd">               [ 90.28     ...,  10.11     ...,  98.24     ...],</span>
<span class="sd">               [ 90.28     ...,  10.11     ...,  98.24     ...],</span>
<span class="sd">               [ 90.28     ...,  10.11     ...,  98.24     ...],</span>
<span class="sd">               [ 90.28     ...,  10.11     ...,  98.24     ...],</span>
<span class="sd">               [ 90.28     ...,  10.11     ...,  98.24     ...]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.zeros"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.zeros">[docs]</a>    <span class="k">def</span> <span class="nf">zeros</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">SpectralShape</span><span class="p">()):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Zeros fills the tri-spectral power distribution: Missing values will be</span>
<span class="sd">        replaced with zeros to fit the defined range.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shape : SpectralShape, optional</span>
<span class="sd">            Spectral shape used for zeros fill.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Zeros filled tri-spectral power distribution.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 89.76,</span>
<span class="sd">        ...     560: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {</span>
<span class="sd">        ...     510: 90.56,</span>
<span class="sd">        ...     520: 87.34,</span>
<span class="sd">        ...     530: 45.76,</span>
<span class="sd">        ...     540: 23.45,</span>
<span class="sd">        ...     550: 15.34,</span>
<span class="sd">        ...     560: 10.11}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {</span>
<span class="sd">        ...     510: 12.43,</span>
<span class="sd">        ...     520: 23.15,</span>
<span class="sd">        ...     530: 67.98,</span>
<span class="sd">        ...     540: 90.28,</span>
<span class="sd">        ...     550: 91.61,</span>
<span class="sd">        ...     560: 98.24}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.zeros(SpectralShape(505, 565, 1))  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values</span>
<span class="sd">        array([[  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [ 49.67,  90.56,  12.43],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [ 69.59,  87.34,  23.15],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [ 81.73,  45.76,  67.98],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [ 88.19,  23.45,  90.28],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [ 89.76,  15.34,  91.61],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [ 90.28,  10.11,  98.24],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ],</span>
<span class="sd">               [  0.  ,   0.  ,   0.  ]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.normalise"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.normalise">[docs]</a>    <span class="k">def</span> <span class="nf">normalise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Normalises the tri-spectral power distribution with given normalization</span>
<span class="sd">        factor.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        factor : numeric, optional</span>
<span class="sd">            Normalization factor</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Normalised tri- spectral power distribution.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        -   The implementation uses the maximum value for all axis.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 89.76,</span>
<span class="sd">        ...     560: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {</span>
<span class="sd">        ...     510: 90.56,</span>
<span class="sd">        ...     520: 87.34,</span>
<span class="sd">        ...     530: 45.76,</span>
<span class="sd">        ...     540: 23.45,</span>
<span class="sd">        ...     550: 15.34,</span>
<span class="sd">        ...     560: 10.11}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {</span>
<span class="sd">        ...     510: 12.43,</span>
<span class="sd">        ...     520: 23.15,</span>
<span class="sd">        ...     530: 67.98,</span>
<span class="sd">        ...     540: 90.28,</span>
<span class="sd">        ...     550: 91.61,</span>
<span class="sd">        ...     560: 98.24}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.normalise()  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd.values  # doctest: +ELLIPSIS</span>
<span class="sd">        array([[ 0.5055985...,  0.9218241...,  0.1265268...],</span>
<span class="sd">               [ 0.7083672...,  0.8890472...,  0.2356473...],</span>
<span class="sd">               [ 0.8319421...,  0.4657980...,  0.6919788...],</span>
<span class="sd">               [ 0.8976995...,  0.2387011...,  0.9189739...],</span>
<span class="sd">               [ 0.9136807...,  0.1561482...,  0.9325122...],</span>
<span class="sd">               [ 0.9189739...,  0.1029112...,  1.       ...]])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">maximum</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">maximum</span><span class="p">)</span> <span class="o">*</span> <span class="n">factor</span>

        <span class="k">return</span> <span class="bp">self</span>
</div>
<div class="viewcode-block" id="TriSpectralPowerDistribution.clone"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.TriSpectralPowerDistribution.clone">[docs]</a>    <span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clones the tri-spectral power distribution.</span>

<span class="sd">        Most of the :class:`TriSpectralPowerDistribution` class operations are</span>
<span class="sd">        conducted in-place. The :meth:`TriSpectralPowerDistribution.clone`</span>
<span class="sd">        method provides a convenient way to copy the tri-spectral power</span>
<span class="sd">        distribution to a new object.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        TriSpectralPowerDistribution</span>
<span class="sd">            Cloned tri-spectral power distribution.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; x_bar = {</span>
<span class="sd">        ...     510: 49.67,</span>
<span class="sd">        ...     520: 69.59,</span>
<span class="sd">        ...     530: 81.73,</span>
<span class="sd">        ...     540: 88.19,</span>
<span class="sd">        ...     550: 89.76,</span>
<span class="sd">        ...     560: 90.28}</span>
<span class="sd">        &gt;&gt;&gt; y_bar = {</span>
<span class="sd">        ...     510: 90.56,</span>
<span class="sd">        ...     520: 87.34,</span>
<span class="sd">        ...     530: 45.76,</span>
<span class="sd">        ...     540: 23.45,</span>
<span class="sd">        ...     550: 15.34,</span>
<span class="sd">        ...     560: 10.11}</span>
<span class="sd">        &gt;&gt;&gt; z_bar = {</span>
<span class="sd">        ...     510: 12.43,</span>
<span class="sd">        ...     520: 23.15,</span>
<span class="sd">        ...     530: 67.98,</span>
<span class="sd">        ...     540: 90.28,</span>
<span class="sd">        ...     550: 91.61,</span>
<span class="sd">        ...     560: 98.24}</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;x_bar&#39;: x_bar, &#39;y_bar&#39;: y_bar, &#39;z_bar&#39;: z_bar}</span>
<span class="sd">        &gt;&gt;&gt; mpg = lbl = {&#39;x&#39;: &#39;x_bar&#39;, &#39;y&#39;: &#39;y_bar&#39;, &#39;z&#39;: &#39;z_bar&#39;}</span>
<span class="sd">        &gt;&gt;&gt; tri_spd = TriSpectralPowerDistribution(&#39;Tri Spd&#39;, data, mpg, lbl)</span>
<span class="sd">        &gt;&gt;&gt; print(tri_spd)  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &gt;&gt;&gt; tri_spd_clone = tri_spd.clone()</span>
<span class="sd">        &gt;&gt;&gt; print(tri_spd_clone)  # doctest: +ELLIPSIS</span>
<span class="sd">        &lt;...TriSpectralPowerDistribution object at 0x...&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

</div></div>
<span class="n">DEFAULT_SPECTRAL_SHAPE</span> <span class="o">=</span> <span class="n">SpectralShape</span><span class="p">(</span><span class="mi">360</span><span class="p">,</span> <span class="mi">830</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Default spectral shape using the shape of</span>
<span class="sd">*CIE 1931 2 Degree Standard Observer*.</span>

<span class="sd">DEFAULT_SPECTRAL_SHAPE : SpectralShape</span>
<span class="sd">&quot;&quot;&quot;</span>


<div class="viewcode-block" id="constant_spd"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.constant_spd">[docs]</a><span class="k">def</span> <span class="nf">constant_spd</span><span class="p">(</span><span class="n">k</span><span class="p">,</span>
                 <span class="n">shape</span><span class="o">=</span><span class="n">DEFAULT_SPECTRAL_SHAPE</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a spectral power distribution of given spectral shape filled with</span>
<span class="sd">    constant :math:`k` values.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    k : numeric</span>
<span class="sd">        Constant :math:`k` to fill the spectral power distribution with.</span>
<span class="sd">    shape : SpectralShape, optional</span>
<span class="sd">        Spectral shape used to create the spectral power distribution.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SpectralPowerDistribution</span>
<span class="sd">        Constant :math:`k` to filled spectral power distribution.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    -   By default, the spectral power distribution will use the shape given</span>
<span class="sd">        by :attr:`DEFAULT_SPECTRAL_SHAPE` attribute.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; spd = constant_spd(100)</span>
<span class="sd">    &gt;&gt;&gt; spd.shape</span>
<span class="sd">    SpectralShape(360, 830, 1)</span>
<span class="sd">    &gt;&gt;&gt; spd[400]</span>
<span class="sd">    100.0</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">wavelengths</span> <span class="o">=</span> <span class="n">shape</span><span class="o">.</span><span class="n">range</span><span class="p">()</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">),</span> <span class="n">k</span><span class="p">)</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;{0} Constant&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">SpectralPowerDistribution</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">values</span><span class="p">)))</span>

</div>
<div class="viewcode-block" id="zeros_spd"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.zeros_spd">[docs]</a><span class="k">def</span> <span class="nf">zeros_spd</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">DEFAULT_SPECTRAL_SHAPE</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a spectral power distribution of given spectral shape filled with</span>
<span class="sd">    zeros.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    shape : SpectralShape, optional</span>
<span class="sd">        Spectral shape used to create the spectral power distribution.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SpectralPowerDistribution</span>
<span class="sd">        Zeros filled spectral power distribution.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    constant_spd</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    -   By default, the spectral power distribution will use the shape given</span>
<span class="sd">        by :attr:`DEFAULT_SPECTRAL_SHAPE` attribute.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; spd = zeros_spd()</span>
<span class="sd">    &gt;&gt;&gt; spd.shape</span>
<span class="sd">    SpectralShape(360, 830, 1)</span>
<span class="sd">    &gt;&gt;&gt; spd[400]</span>
<span class="sd">    0.0</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">constant_spd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">shape</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="ones_spd"><a class="viewcode-back" href="../../../colour.colorimetry.spectrum.html#colour.colorimetry.spectrum.ones_spd">[docs]</a><span class="k">def</span> <span class="nf">ones_spd</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">DEFAULT_SPECTRAL_SHAPE</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a spectral power distribution of given spectral shape filled with</span>
<span class="sd">    ones.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    shape : SpectralShape, optional</span>
<span class="sd">        Spectral shape used to create the spectral power distribution.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SpectralPowerDistribution</span>
<span class="sd">        Ones filled spectral power distribution.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    constant_spd</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    -   By default, the spectral power distribution will use the shape given</span>
<span class="sd">        by :attr:`DEFAULT_SPECTRAL_SHAPE` attribute.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; spd = ones_spd()</span>
<span class="sd">    &gt;&gt;&gt; spd.shape</span>
<span class="sd">    SpectralShape(360, 830, 1)</span>
<span class="sd">    &gt;&gt;&gt; spd[400]</span>
<span class="sd">    1.0</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">constant_spd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">shape</span><span class="p">)</span></div>
</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013 - 2014, Colour Developers.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>